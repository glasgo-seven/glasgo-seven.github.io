<!DOCTYPE html>
<html lang="en" style="font-family: 'Courier New', Courier, monospace">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="./style.css" type="text/css" rel="stylesheet" />
		<link rel="icon" href="./favicon.ico">
		<title>PyTutor. Сборник задач и проектов</title>
	</head>

	<body onload="onLoad()">
		<h1>PyTutor. Сборник задач и проектов</h1>
		<div id="tables" style="display: inline-flex;">
			<div class="box" id="task-box">
				<fieldset class="table">
					<legend>Задачи: <b id="task-number"></b></legend>
					<table id="task-table"></table>
				</fieldset>
			</div>
			<div class="box" id="project-box">
				<fieldset class="table">
					<legend>Проекты: <b id="project-number"></b></legend>
					<table id="project-table"></table>
				</fieldset>
			</div>
			
		</div>

		<hr>
	</body>

	<footer>
		<h5 class="footer-text">by glasgo-seven<br>2021</h5>
	</footer>

	<script>
		function onLoad() {
			document.getElementById("task-number").innerHTML = taskDataBase_size;
			taskTableLoad(taskDataBase_size, 0);

			document.getElementById("project-number").innerHTML = projectDataBase_size;
			taskTableLoad(projectDataBase_size, 1);
		}

		function taskTableLoad(size, dataBase) {
			let tableContent = "";
			const rows = Math.floor(size / 5) + 1;
			for (y = 0; y < rows; y++) {
				tableContent += "<tr>";
				for (x = 1; x <= 5; x++) {
					const taskNumber = y * 5 + x
					if (taskNumber <= size) {
						tableContent += '<td><button style="width: 64px; height: 32px;" onclick="taskLoad(' + taskNumber + ', '+ dataBase + ')" value="' + taskNumber + '">' + taskNumber + '</button></td>';
					} else {
						tableContent += '<td></td>';
					}
				}
				tableContent += "</tr>";
			}
			document.getElementById((dataBase == 0 ? 'task' : 'project') + "-table").innerHTML = tableContent;
		}

		function taskLoad(taskNumber, dataBase) {
			document.location.href = './task.html?' + dataBase + '=' + taskNumber;
		}
	</script>
	<script src="data.js"></script>
</html>